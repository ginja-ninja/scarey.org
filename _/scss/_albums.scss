.album-block {
    clear:both;
    h1 {
        clear:both;
    }
    margin: 4em auto;
    &:first-child {
        margin-top:0;
    }
    @include at-breakpoint($medium) {
        max-width:90%;

        &:after {
            content: url('../img/scarey_line_spacer_smaller.png');
            display:table;
            margin: 0 auto;
            clear:both;
        }
    }
}
.album-release {
    text-align:center;
    margin-bottom:2em;
}

.album-cover {
    text-align:center;
    img {
        margin-bottom:2em;
        max-width:100%;
        height:auto;
        @include at-breakpoint($medium) {
            margin-bottom:2em;
        }
        @include at-breakpoint($large) {
            margin-bottom:3em;
            max-width:50%;
            @include span-columns(4, 8);
        }
    }
}

.album-blurb {
    padding-bottom:$padding*2;
     p {
        text-align: justify;
        margin-bottom:$regularfont;
    }
    @include at-breakpoint($large) {
        @include span-columns(4 omega, 8);
    }
    @include at-breakpoint($large) {
    }
}

.album-tracklist h2, .album-purchase h2 {
    padding:$smallpadding;
    border-bottom:1px solid $grey;
    //border-top:1px solid $grey;
    //border-right: 1px solid $grey;
    //border-left: 1px solid $grey;
    border-radius:3px 3px 0 0;
    margin-bottom:$smallpadding;
    text-align:left;
    background: $lightgrey;
}

.album-tracklist {
    padding-bottom:2em;
    .album-track {
        clear:both;
        overflow:auto;
        margin:$smallpadding*2 0;
        font-size:$regularfont;
    }
    .album-track-name {
        float:left;
    }
    .album-track-duration {
        float:right;
    }
    @include at-breakpoint($medium) {
        margin-bottom: $padding*2;
    }
    @include at-breakpoint($large) {
        clear:both;
        @include span-columns(4, 8);
    }
}

.album-purchase {
    a {
        display:block;
        width:100%;
        clear:both;
        margin:$padding 0;
        @include at-breakpoint($medium) {
            margin:$smallpadding*2 auto;
        }
    }
    @include at-breakpoint($large) {
        @include span-columns(4 omega, 8);
        text-align:center;
    }
}


/* ==========ALBUMS FILTER */
.no-js .album-filter {
    display:none; //no js?  no filter :(
}
.album-filter {
    text-align:center;
    clear:both;
    @include transition(all 200ms);
    .filter-toggle {
        display:block;
        width:100%;
        cursor: pointer;
        padding:$padding 0;
        background:$darkgrey;
        border-bottom:1px solid transparent;
        @include transition(background 200ms, border 200ms);
        @include at-breakpoint($medium) {
            background:none;
            position:absolute;
            padding-bottom:0;
            top:65px;
            right:50px;
            width:150px;
            border-radius:3px 3px 0 0;
            &:hover {
                background:none;
            }
        }
        @include at-breakpoint($large) {
            top:85px;
        }
    }
     .filter-close {
        position:absolute;
        top:-9999px;
        right:-9999px;
        font-size:3em;
        cursor:pointer;
    }
    ul {
        height:0;
        opacity: 0;
        @include transition(height 200ms ease-in-out, opacity 200ms ease-in-out);
        overflow:hidden;
    }
    .filter-show {

        ul {
            height:250px;
            opacity:1;
            @include transition(height 200ms ease-in-out, opacity 200ms ease-in-out);
            width:$album_filter_width;
        }
        li {
            float:left;
            width: album_thumb_width($album_filter_width, 4);
            padding:$padding 0;
            left:0;
            position:relative;
        }
        .position{
            text-align:center;
            list-style:none;
            margin:0 auto;
            padding:0;
            height:30px;
            width: 100%;
            a {
                display:inline-block;
                width:10px;
                height:10px;
                padding:0;
                border-radius:10px;
                background:$lightblack;
                box-shadow:inset 0 1px 3px $offblack,0 0 1px 1px $lightblack;
                margin:0 2px;
                cursor:pointer
            }
            .on {
                box-shadow:inset 0 1px 3px -1px $orange,0 1px 2px rgba(0,0,0,.5);
                background-color:$orange;
                background-image:-webkit-gradient(linear, 0 0, 0 100%, from($orange), to(darken($orange, 10%)));
                background-image:-webkit-linear-gradient($orange, darken($orange, 10%));
                background-image:-moz-linear-gradient($orange, darken($orange, 10%));
                background-image:-o-linear-gradient($orange, darken($orange, 10%));
                background-image:linear-gradient($orange, darken($orange, 10%));
            }
        }
        .filter-close {
            top:-20px;
            right:-35px;
        }
    }
    a {
        padding:0 $padding;
        display:inline-block;
    }
    .album-filter-title {
        display:block;
        line-height:1.5em;
        font-size:.8em;
    }
}

    /* Swipe CSS */
    .swipe {
        background:$grey;
        background: url("../img/bg_gradient.png") repeat-x;
        border-top:1px solid $darkgrey;
        border-bottom: 1px solid $darkgrey;
        border-left:1px solid $darkgrey;
        border-right:1px solid $darkgrey;
        overflow: hidden;
        visibility: hidden;
        position: relative;
        @include at-breakpoint($medium) {
            //width:40%;
            margin: 0 auto;
        }
    }
    .swipe-wrap {
        overflow: hidden;
        position: relative;
    }
    .swipe-wrap > li {
        float:left;
        width:100%;
        position: relative;
    }


.grey {
    background: $darkgrey !important;
    border-bottom:1px solid $darkestgrey !important;
}

//Fix anchor links jumping too far, want to keep album title in view on the page
@include at-breakpoint($large) {
    .album-block:not(:first-child):before {
        content:"";
        display:block;
        margin-top:-100px;
        height:100px;
        visibility: hidden;
    }
}