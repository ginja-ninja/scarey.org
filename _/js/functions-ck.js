/* -----------------------------------------------
HISTORY
------------------------------------------------ */(function(e,t){var n=e.History,r=e.jQuery,i=e.document;if(!n.enabled)return!1;r(function(){var t=".wrap",s=r(t).filter(":first"),o=s.get(0),u=r("#nav"),a="active",f=".active",l="a",c="statechangecomplete",h=r(e),p=r(i.body),d=n.getRootUrl(),v={duration:800,easing:"swing"};s.length===0&&(s=p);r.expr[":"].internal=function(e,t,n,i){var s=r(e),o=s.attr("href")||"",u;u=o.substring(0,d.length)===d||o.indexOf(":")===-1;return u};var m=function(e){var t=String(e).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi,"</div>");return t};r.fn.ajaxify=function(){var e=r(this);e.find("a:internal:not(.no-ajaxy)").click(function(e){var t=r(this),i=t.attr("href"),s=t.attr("title")||null;if(e.which==2||e.metaKey)return!0;n.pushState(null,s,i);e.preventDefault();return!1});return e};p.ajaxify();h.bind("statechange",function(){function g(){r.ajax({url:h,success:function(n,c,d){function T(e,t){r("html:not(:animated),body:not(:animated)").delay(t).animate({scrollTop:r("#"+e).offset().top},600)}var g=r(m(n)),y=g.find(".document-body:first"),b=y.find(t).filter(":first"),w,E,S;S=b.find(".document-script");S.length&&S.detach();E=b.html()||g.html();if(!E){i.location.href=h;return!1}w=u.find(l);w.filter(f).removeClass(a);w=w.has('a[href^="'+v+'"],a[href^="/'+v+'"],a[href^="'+h+'"]');w.length===1?w.addClass(a):e.location.pathname==="/"&&r("#home-link").addClass("active");s.html(E).ajaxify();navFly.init();i.title=g.find(".document-title:first").text();try{i.getElementsByTagName("title")[0].innerHTML=i.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(x){}S.each(function(){var e=r(this),t=e.text(),n=i.createElement("script");n.appendChild(i.createTextNode(t));o.appendChild(n)});r("#main-content").css("left","-100px").delay(100).animate({left:0,opacity:1},600,"easeOutExpo");r("#footer").css("left","-100px").animate({left:0,opacity:1},500,"easeOutExpo",function(){T("logo",0)});p.removeClass("loading")},error:function(e,t,n){i.location.href=h;return!1}})}var c=n.getState(),h=c.url,v=h.replace(d,"");p.addClass("loading");r("#main-content").animate({left:"100%",opacity:0},600,"easeOutExpo",function(){g()})})})})(window);var navFly=$(function(){$(".more-nav").click(function(){$("#mobile-flyout").toggleClass("open");$(".main-content").toggleClass("dark");return!1})});