$nav_items: "music", "videos", "pics", "tour", "store", "contact";

/*------------------------------------*\
    $NAVIGATION
\*------------------------------------*/
header {
    margin-bottom: $base-spacing-unit;
}


/****
* Main Navigation
****/
.main-nav {
    @include clearfix;
    //padding: $base-spacing-unit 0;
    text-transform: uppercase;
    @include at-breakpoint($medium) {
        text-align:center;
        padding:$base-spacing-unit/2 0;
    }
    a {
        @extend .header-font;
        letter-spacing: 0.05em;
        display: inline-block;
        padding: $base-spacing-unit/2;
        &:hover {
            color: $brand-main;
        }
        @include at-breakpoint($medium) {
            position:relative;
            top:-10px;
            padding:0 $base-spacing-unit/2;
        }
        @include at-breakpoint($large) {
            //top:-20px;
            padding:0 $base-spacing-unit/2;
        }
    }
    .logo-nav {
        > img {
            vertical-align: middle;
            width: 150px;
        }
        @extend .gamma;
        top: 0;
        float:left;
        //margin-left:5px;
        //color: $brand-main;
        @include at-breakpoint($medium) {
            display:inline;
            margin-left:0;
            float:none;
            font-weight:100;
            font-size: $kilo-size;
            line-height:1;
            > img {
                width: 250px;
            }
        }
        @include at-breakpoint($large) {
            //font-size: $mega-size;
        }
    }
}



/* Hide irrelevant icons on small view */
// .songs .tour-nav, .songs .videos-nav, .songs .pics-nav, .songs .store-nav, .songs .contact-nav,
// .tour .blog-nav, .tour .albums-nav, .tour .media-nav, .tour .store-nav, .tour .contact-nav, .tour .videos-nav, .tour .pics-nav, .tour .songs-nav,
// .albums .blog-nav, .albums .tour-nav, .albums .media-nav, .albums .store-nav, .albums .contact-nav,
// .videos .tour-nav, .videos .albums-nav, .videos .store-nav, .videos .contact-nav,
// .store .blog-nav, .store .tour-nav, .store .albums-nav, .store .media-nav, .store .contact-nav,
// .contact .blog-nav, .contact .tour-nav, .contact .albums-nav, .contact .media-nav, .contact .store-nav,
// .home .tour-nav, .home .albums-nav, .home .store-nav, .home .contact-nav, .home .videos-nav, .home .pics-nav, .home .songs-nav {
//     display:none;
//     @include at-breakpoint($medium) {
//         display:inline-block;
//     }
// }

@each $nav_item in $nav_items {
    .#{$nav_item} .tour-nav,
    .#{$nav_item} .music-nav,
    .#{$nav_item} .pics-nav,
    .#{$nav_item} .store-nav,
    .#{$nav_item} .videos-nav,
    .#{$nav_item} .contact-nav {
        display:none;
        @include at-breakpoint($medium) {
            display:inline-block;
        }
    }

    .#{$nav_item} .#{$nav_item}-nav {
        display: inline-block;
    }
}

@each $nav_item in $nav_items {
    .home .#{$nav_item}-nav {
        display: none;
        @include at-breakpoint($medium) {
            display:inline-block;
        }
    }
}




/****
* Active menus
****/
@each $nav_item in $nav_items {
    .#{$nav_item} a.#{$nav_item}-nav {
        //margin:0 0 0 $padding/4;
        padding-left: 0;
        margin-left: (-$base-spacing-unit/4);
        color: $brand-main;
        line-height: 50px;
        font-weight: bold;
        font-size: 1.2rem;
        @include at-breakpoint($medium) {
            margin-left:0;
            color:$brand-main;
            // font-size:$base-font-size;
            padding: 0 $base-spacing-unit/2;
        }
    }
}

a.active {
    color:$brand-main;
}




/****
* Nav toggle
****/
.more-nav {
    @extend .beta;
    position: relative;
    top: 2px;
    float: right;
    padding: 0 $base-spacing-unit/2;
    //border-left: 1px solid lighten($black, 20%);
    text-align: center;
    line-height: 1;
    @include at-breakpoint($medium) {
        display: none;
    }
    &[data-icon]:before {
        display: inline-block;
        vertical-align: middle;
        @include at-breakpoint($medium) {
            content:"";
        }
    }
    span {
        display: inline-block;
        vertical-align: middle;
        font-size: $milli-size;
    }
}


/****
* Mobile Flyout
****/
.mobile-flyout {
    @include transform(translateX(-100%));
    // @include transition-property(transform);
    // @include transition-duration(200ms);
    // @include transition-timing-function(ease-in-out);
    height: 100%;
    position:absolute;
    width:100%;
    z-index:1000;
    background: rgba($lightblack, 0.9);
    @include at-breakpoint($medium) {
        display:none;
    }
    a {
        @include transition-property(transform, opacity);
        @include transition-duration(200ms);
        @include transform(translateY(-30px));
        @extend .header-font;
        opacity: 0;
        display:block;
        padding: $base-spacing-unit/2 $base-spacing-unit;
        width:100%;
        font-size: $h4-size;
        color: $white;
        //text-align:center;
        // background:$lightblack;
        border-bottom: 1px solid lighten($black, 20%);

        @for $i from 1 through length($nav_items) {
            &:nth-child(#{$i}) {
                @include transition-delay(30ms * $i);
            }
        }
    }
    [data-icon]:before {
        display:block;
        margin-bottom: $base-spacing-unit/2;
        font-size:$h1-size;
        color: $offblack;
    }
}


/****
* For no JS navigation
****/


/****
* Flyout active
****/
.nav--active {
    .main-nav {
        background: rgba($lightblack, 0.9);
    }

    .mobile-flyout {
        @include transform(translateX(0));
        a {
            @include transform(translateY(0));
            opacity: 1;
        }
    }
}


/****
* Ugly VEVO hack to enable clicking on home page
****/
.main-content #vevo-hack {
    display: block;
}

.dark #vevo-hack {
    display: none;
}


/****
* Page Navigation
****/
.page-nav {
    position:relative;
    //margin-bottom:$base-spacing-unit;
    overflow:auto;
    text-align:center;
    a {
        display:inline-block;
        padding:$base-spacing-unit/2 0;
        color: $link-color;
        background:$black;
        border-bottom:2px solid transparent;
        border-right: 1px solid lighten($black, 20%);
        &:last-child {
            border-right:none;
        }
        &:hover {
            border-bottom:2px solid $brand-main;
            @include transition(border .1s);
        }
        @include at-breakpoint($medium) {
            padding:$base-spacing-unit 0 $base-spacing-unit/2;
            color:$link-color;
            background:none;
            border-right:none;
        }
    }
}



.page-nav--3 {
    a {
        width:33.33%;
        float:left;
        &:last-child {
            width:33.34%;
        }
        @include at-breakpoint($medium) {
            @include container;
            float:none;
            width:auto;
            display:inline-block;
            &:last-child {
                width: auto;
            }
        }
    }
}


.page-nav--2 {
    a {
        width:50%;
        float:left;
        @include at-breakpoint($medium) {
            @include container;
            float:none;
            width:auto;
            display:inline-block;
        }
    }
}


a.page-active {
    border-bottom:2px solid $brand-main;
    color: $link-color;
    background: $brand-main;
    @include at-breakpoint($medium) {
        color: $link-color;
        background: none;
    }
}

